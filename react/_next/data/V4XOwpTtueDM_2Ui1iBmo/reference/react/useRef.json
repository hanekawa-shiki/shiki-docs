{"pageProps":{"content":"[[\"$r\",\"MaxWidth\",\"60\",{\"children\":[[\"$r\",\"Intro\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" æ˜¯ä¸€ä¸ª React Hookï¼Œå®ƒèƒ½å¸®åŠ©å¼•ç”¨ä¸€ä¸ªä¸éœ€è¦æ¸²æŸ“çš„å€¼ã€‚\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"const ref = useRef(initialValue)\\n\"}]}]]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"reference\",\"children\":\"å‚è€ƒ \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"useref\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"useRef(initialValue)\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" ä»¥å£°æ˜ä¸€ä¸ª \",[\"$r\",\"a\",null,{\"href\":\"/learn/referencing-values-with-refs\",\"children\":\"ref\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useRef } from 'react';\\r\\n\\r\\nfunction MyComponent() {\\r\\n  const intervalRef = useRef(0);\\r\\n  const inputRef = useRef(null);\\r\\n  // ...\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"#usage\",\"children\":\"è¯·å‚é˜…ä¸‹æ–¹æ›´å¤šç¤ºä¾‹\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"parameters\",\"children\":\"å‚æ•° \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"initialValue\"}],\"ï¼šref å¯¹è±¡çš„ \",[\"$r\",\"code\",null,{\"children\":\"current\"}],\" å±æ€§çš„åˆå§‹å€¼ã€‚å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å€¼ã€‚è¿™ä¸ªå‚æ•°åœ¨é¦–æ¬¡æ¸²æŸ“åè¢«å¿½ç•¥ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"returns\",\"children\":\"è¿”å›å€¼ \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" è¿”å›ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå±æ€§çš„å¯¹è±¡:\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"current\"}],\"ï¼šåˆå§‹å€¼ä¸ºä¼ é€’çš„ \",[\"$r\",\"code\",null,{\"children\":\"initialValue\"}],\"ã€‚ä¹‹åå¯ä»¥å°†å…¶è®¾ç½®ä¸ºå…¶ä»–å€¼ã€‚å¦‚æœå°† ref å¯¹è±¡ä½œä¸ºä¸€ä¸ª JSX èŠ‚ç‚¹çš„ \",[\"$r\",\"code\",null,{\"children\":\"ref\"}],\" å±æ€§ä¼ é€’ç»™ Reactï¼ŒReact å°†ä¸ºå®ƒè®¾ç½® \",[\"$r\",\"code\",null,{\"children\":\"current\"}],\" å±æ€§ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨åç»­çš„æ¸²æŸ“ä¸­ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" å°†è¿”å›åŒä¸€ä¸ªå¯¹è±¡ã€‚\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"caveats\",\"children\":\"æ³¨æ„ \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"å¯ä»¥ä¿®æ”¹ \",[\"$r\",\"code\",null,{\"children\":\"ref.current\"}],\" å±æ€§ã€‚ä¸ state ä¸åŒï¼Œå®ƒæ˜¯å¯å˜çš„ã€‚ç„¶è€Œï¼Œå¦‚æœå®ƒæŒæœ‰ä¸€ä¸ªç”¨äºæ¸²æŸ“çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ state çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œé‚£ä¹ˆå°±ä¸åº”è¯¥ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"æ”¹å˜ \",[\"$r\",\"code\",null,{\"children\":\"ref.current\"}],\" å±æ€§æ—¶ï¼ŒReact ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚React ä¸çŸ¥é“å®ƒä½•æ—¶ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå› ä¸º ref æ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"é™¤äº† \",[\"$r\",\"a\",null,{\"href\":\"#avoiding-recreating-the-ref-contents\",\"children\":\"åˆå§‹åŒ–\"}],\" å¤–ä¸è¦åœ¨æ¸²æŸ“æœŸé—´å†™å…¥æˆ–è€…è¯»å– \",[\"$r\",\"code\",null,{\"children\":\"ref.current\"}],\"ï¼Œå¦åˆ™ä¼šä½¿ç»„ä»¶è¡Œä¸ºå˜å¾—ä¸å¯é¢„æµ‹ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒReact å°†ä¼š \",[\"$r\",\"strong\",null,{\"children\":\"è°ƒç”¨ä¸¤æ¬¡ç»„ä»¶æ–¹æ³•\"}],\"ï¼Œè¿™æ˜¯ä¸ºäº† \",[\"$r\",\"a\",null,{\"href\":\"#my-initializer-or-updater-function-runs-twice\",\"children\":\"å¸®åŠ©å‘ç°æ„å¤–é—®é¢˜\"}],\"ã€‚ä½†è¿™åªæ˜¯å¼€å‘æ¨¡å¼ä¸‹çš„è¡Œä¸ºï¼Œä¸ä¼šå½±å“ç”Ÿäº§æ¨¡å¼ã€‚æ¯ä¸ª ref å¯¹è±¡éƒ½å°†ä¼šåˆ›å»ºä¸¤æ¬¡ï¼Œä½†æ˜¯å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬å°†è¢«ä¸¢å¼ƒã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ç»„ä»¶çº¯å‡½æ•°ï¼ˆä¹Ÿåº”å½“å¦‚æ­¤ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ä¼šå½±å“å…¶è¡Œä¸ºã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"usage\",\"children\":\"ä½¿ç”¨ \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"referencing-a-value-with-a-ref\",\"children\":\"ä½¿ç”¨ç”¨ ref å¼•ç”¨ä¸€ä¸ªå€¼ \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ª \",[\"$r\",\"a\",null,{\"href\":\"/learn/referencing-values-with-refs\",\"children\":\"ref\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[1, 4, \\\"intervalRef\\\"], [3, 4, \\\"0\\\"]]\",\"children\":\"import { useRef } from 'react';\\r\\n\\r\\nfunction Stopwatch() {\\r\\n  const intervalRef = useRef(0);\\r\\n  // ...\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" è¿”å›ä¸€ä¸ªå…·æœ‰å•ä¸ª \",[\"$r\",\"CodeStep\",null,{\"step\":2,\"children\":[[\"$r\",\"code\",null,{\"children\":\"current\"}],\" å±æ€§\"]}],\" çš„ \",[\"$r\",\"CodeStep\",null,{\"step\":1,\"children\":\"ref å¯¹è±¡\"}],\"ï¼Œå¹¶åˆå§‹åŒ–ä¸ºä½ æä¾›çš„ \",[\"$r\",\"CodeStep\",null,{\"step\":3,\"children\":\"åˆå§‹å€¼\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨åç»­çš„æ¸²æŸ“ä¸­ï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" å°†è¿”å›ç›¸åŒçš„å¯¹è±¡ã€‚ä½ å¯ä»¥æ”¹å˜å®ƒçš„ \",[\"$r\",\"code\",null,{\"children\":\"current\"}],\" å±æ€§æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¹¶åœ¨ä¹‹åè¯»å–å®ƒã€‚è¿™ä¼šè®©äººè”æƒ³åˆ° \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useState\",\"children\":\"state\"}],\"ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ«ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":\"æ”¹å˜ ref ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“\"}],\"ã€‚è¿™æ„å‘³ç€ ref æ˜¯å­˜å‚¨ä¸€äº›ä¸å½±å“ç»„ä»¶è§†å›¾è¾“å‡ºä¿¡æ¯çš„å®Œç¾é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦å­˜å‚¨ä¸€ä¸ª \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/setInterval\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"interval ID\"}],\" å¹¶åœ¨ä»¥åæ£€ç´¢å®ƒï¼Œé‚£ä¹ˆå¯ä»¥å°†å®ƒå­˜å‚¨åœ¨ ref ä¸­ã€‚åªéœ€è¦æ‰‹åŠ¨æ”¹å˜å®ƒçš„ \",[\"$r\",\"CodeStep\",null,{\"step\":2,\"children\":[[\"$r\",\"code\",null,{\"children\":\"current\"}],\" å±æ€§\"]}],\" å³å¯ä¿®æ”¹ ref çš„å€¼ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[2, 5, \\\"intervalRef.current\\\"]]\",\"children\":\"function handleStartClick() {\\r\\n  const intervalId = setInterval(() => {\\r\\n    // ...\\r\\n  }, 1000);\\r\\n  intervalRef.current = intervalId;\\r\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨ä¹‹åï¼Œä» ref ä¸­è¯»å– interval ID ä¾¿å¯ä»¥ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/clearInterval\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"æ¸…é™¤å®šæ—¶å™¨\"}],\"ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[2, 2, \\\"intervalRef.current\\\"]]\",\"children\":\"function handleStopClick() {\\r\\n  const intervalId = intervalRef.current;\\r\\n  clearInterval(intervalId);\\r\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä½¿ç”¨ ref å¯ä»¥ç¡®ä¿ï¼š\"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"å¯ä»¥åœ¨é‡æ–°æ¸²æŸ“ä¹‹é—´ \",[\"$r\",\"strong\",null,{\"children\":\"å­˜å‚¨ä¿¡æ¯\"}],\"ï¼ˆæ™®é€šå¯¹è±¡å­˜å‚¨çš„å€¼æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šé‡ç½®ï¼‰ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"æ”¹å˜å®ƒ \",[\"$r\",\"strong\",null,{\"children\":\"ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“\"}],\"ï¼ˆçŠ¶æ€å˜é‡ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼‰ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"å¯¹äºç»„ä»¶çš„æ¯ä¸ªå‰¯æœ¬è€Œè¨€ï¼Œ\",[\"$r\",\"strong\",null,{\"children\":\"è¿™äº›ä¿¡æ¯éƒ½æ˜¯æœ¬åœ°çš„\"}],\"ï¼ˆå¤–éƒ¨å˜é‡åˆ™æ˜¯å…±äº«çš„ï¼‰ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"æ”¹å˜ ref ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œæ‰€ä»¥ ref ä¸é€‚åˆç”¨äºå­˜å‚¨æœŸæœ›æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„ä¿¡æ¯ã€‚å¦‚æœ‰éœ€è¦ï¼Œä½¿ç”¨ state ä»£æ›¿ã€‚é˜…è¯»æ›´å¤šå…³äº \",[\"$r\",\"a\",null,{\"href\":\"/learn/referencing-values-with-refs#differences-between-refs-and-state\",\"children\":[\"åœ¨ \",[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" å’Œ \",[\"$r\",\"code\",null,{\"children\":\"useState\"}],\" ä¹‹é—´é€‰æ‹©\"]}],\" çš„ä¿¡æ¯ã€‚\"]}],\"\\n\"]}],[\"$r\",\"Recipes\",null,{\"titleText\":\"Examples of referencing a value with useRef\",\"titleId\":\"examples-value\",\"children\":[[\"$r\",\"h4\",null,{\"id\":\"click-counter\",\"children\":\"ç‚¹å‡»è®¡æ•°å™¨ \"}],[\"$r\",\"p\",null,{\"children\":\"è¿™ä¸ªç»„ä»¶ä½¿ç”¨ ref è®°å½•æŒ‰é’®è¢«ç‚¹å‡»çš„æ¬¡æ•°ã€‚æ³¨æ„ï¼Œåœ¨è¿™é‡Œä½¿ç”¨ ref è€Œä¸æ˜¯ state æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºç‚¹å‡»æ¬¡æ•°åªåœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è¢«è¯»å–å’Œå†™å…¥ã€‚\"}],[\"$r\",\"Sandpack\",null,{\"children\":[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useRef } from 'react';\\r\\n\\r\\nexport default function Counter() {\\r\\n  let ref = useRef(0);\\r\\n\\r\\n  function handleClick() {\\r\\n    ref.current = ref.current + 1;\\r\\n    alert('You clicked ' + ref.current + ' times!');\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <button onClick={handleClick}>\\r\\n      ç‚¹å‡»ï¼\\r\\n    </button>\\r\\n  );\\r\\n}\\n\"}]}]}],[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœåœ¨ JSX ä¸­æ˜¾ç¤º \",[\"$r\",\"code\",null,{\"children\":\"{ref.current}\"}],\"ï¼Œæ•°å­—ä¸ä¼šåœ¨ç‚¹å‡»æ—¶æ›´æ–°ã€‚è¿™æ˜¯å› ä¸ºä¿®æ”¹ \",[\"$r\",\"code\",null,{\"children\":\"ref.current\"}],\" ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“â€”â€”ç”¨äºæ¸²æŸ“çš„ä¿¡æ¯åº”è¯¥ä½¿ç”¨ stateã€‚\"]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"a-stopwatch\",\"children\":\"ç§’è¡¨ \"}],[\"$r\",\"p\",null,{\"children\":[\"è¿™ä¸ªä¾‹å­ä½¿ç”¨äº† state å’Œ ref çš„ç»„åˆã€‚\",[\"$r\",\"code\",null,{\"children\":\"startTime\"}],\" å’Œ \",[\"$r\",\"code\",null,{\"children\":\"now\"}],\" éƒ½æ˜¯ state å˜é‡ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç”¨æ¥æ¸²æŸ“çš„ã€‚ä½†æ˜¯è¿˜éœ€è¦æŒæœ‰ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/setInterval\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"interval ID\"}],\" ä»¥åœ¨æŒ‰ä¸‹æŒ‰é’®æ—¶åœæ­¢å®šæ—¶å™¨ã€‚å› ä¸º interval ID ä¸ç”¨äºæ¸²æŸ“ï¼Œæ‰€ä»¥åº”è¯¥æŠŠå®ƒä¿å­˜åœ¨ä¸€ä¸ª ref ä¸­ï¼Œå¹¶ä¸”æ‰‹åŠ¨æ›´æ–°å®ƒã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useState, useRef } from 'react';\\r\\n\\r\\nexport default function Stopwatch() {\\r\\n  const [startTime, setStartTime] = useState(null);\\r\\n  const [now, setNow] = useState(null);\\r\\n  const intervalRef = useRef(null);\\r\\n\\r\\n  function handleStart() {\\r\\n    setStartTime(Date.now());\\r\\n    setNow(Date.now());\\r\\n\\r\\n    clearInterval(intervalRef.current);\\r\\n    intervalRef.current = setInterval(() => {\\r\\n      setNow(Date.now());\\r\\n    }, 10);\\r\\n  }\\r\\n\\r\\n  function handleStop() {\\r\\n    clearInterval(intervalRef.current);\\r\\n  }\\r\\n\\r\\n  let secondsPassed = 0;\\r\\n  if (startTime != null && now != null) {\\r\\n    secondsPassed = (now - startTime) / 1000;\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <>\\r\\n      <h1>Time passed: {secondsPassed.toFixed(3)}</h1>\\r\\n      <button onClick={handleStart}>\\r\\n        å¼€å§‹\\r\\n      </button>\\r\\n      <button onClick={handleStop}>\\r\\n        åœæ­¢\\r\\n      </button>\\r\\n    </>\\r\\n  );\\r\\n}\\n\"}]}]}],[\"$r\",\"Solution\",null,{}]]}],[\"$r\",\"MaxWidth\",\"86\",{\"children\":[\"\\n\",[\"$r\",\"Pitfall\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":[\"ä¸è¦åœ¨æ¸²æŸ“æœŸé—´å†™å…¥æˆ–è€…è¯»å– \",[\"$r\",\"code\",null,{\"children\":\"ref.current\"}]]}],\"ã€‚\"]}],[\"$r\",\"p\",null,{\"children\":[\"React æœŸæœ›ç»„ä»¶ä¸»ä½“ \",[\"$r\",\"a\",null,{\"href\":\"/learn/keeping-components-pure\",\"children\":\"è¡¨ç°å¾—åƒä¸€ä¸ªçº¯å‡½æ•°\"}],\"ï¼š\"]}],[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"å¦‚æœè¾“å…¥çš„ï¼ˆ\",[\"$r\",\"a\",null,{\"href\":\"/learn/passing-props-to-a-component\",\"children\":\"props\"}],\"ã€\",[\"$r\",\"a\",null,{\"href\":\"/learn/state-a-components-memory\",\"children\":\"state\"}],\" ä¸ \",[\"$r\",\"a\",null,{\"href\":\"/learn/passing-data-deeply-with-context\",\"children\":\"ä¸Šä¸‹æ–‡\"}],\"ï¼‰éƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±åº”è¯¥è¿”å›ä¸€æ ·çš„ JSXã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"ä»¥ä¸åŒçš„é¡ºåºæˆ–ç”¨ä¸åŒçš„å‚æ•°è°ƒç”¨å®ƒï¼Œä¸åº”è¯¥å½±å“å…¶ä»–è°ƒç”¨çš„ç»“æœã€‚\"}],\"\\n\"]}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨ \",[\"$r\",\"strong\",null,{\"children\":\"æ¸²æŸ“æœŸé—´\"}],\" è¯»å–æˆ–å†™å…¥ ref ä¼šç ´åè¿™äº›é¢„æœŸè¡Œä¸ºã€‚\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{3-4,6-7}\",\"children\":\"function MyComponent() {\\r\\n  // ...\\r\\n  // ğŸš© ä¸è¦åœ¨æ¸²æŸ“æœŸé—´å†™å…¥ ref\\r\\n  myRef.current = 123;\\r\\n  // ...\\r\\n  // ğŸš© ä¸è¦åœ¨æ¸²æŸ“æœŸé—´è¯»å– ref\\r\\n  return <h1>{myOtherRef.current}</h1>;\\r\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"å¯ä»¥åœ¨ \",[\"$r\",\"strong\",null,{\"children\":\"äº‹ä»¶å¤„ç†ç¨‹åºæˆ–è€… Effect\"}],\" ä¸­è¯»å–å’Œå†™å…¥ refã€‚\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{4-5,9-10}\",\"children\":\"function MyComponent() {\\r\\n  // ...\\r\\n  useEffect(() => {\\r\\n    // âœ… å¯ä»¥åœ¨ Effect ä¸­è¯»å–å’Œå†™å…¥ ref\\r\\n    myRef.current = 123;\\r\\n  });\\r\\n  // ...\\r\\n  function handleClick() {\\r\\n    // âœ… å¯ä»¥åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è¯»å–å’Œå†™å…¥ ref\\r\\n    doSomething(myOtherRef.current);\\r\\n  }\\r\\n  // ...\\r\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœä¸å¾—ä¸åœ¨æ¸²æŸ“æœŸé—´è¯»å– \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useState#storing-information-from-previous-renders\",\"children\":\"æˆ–è€…å†™å…¥\"}],\"ï¼Œé‚£ä¹ˆåº”è¯¥ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/useState\",\"children\":\"ä½¿ç”¨ state\"}],\" ä»£æ›¿ã€‚\"]}],[\"$r\",\"p\",null,{\"children\":[\"å½“æ‰“ç ´è¿™äº›è§„åˆ™æ—¶ï¼Œç»„ä»¶å¯èƒ½ä»ç„¶å¯ä»¥å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬ä¸º React æ·»åŠ çš„å¤§å¤šæ•°æ–°åŠŸèƒ½å°†ä¾èµ–äºè¿™äº›é¢„æœŸè¡Œä¸ºã€‚é˜…è¯» \",[\"$r\",\"a\",null,{\"href\":\"/learn/keeping-components-pure#where-you-_can_-cause-side-effects\",\"children\":\"ä¿æŒç»„ä»¶çº¯ç²¹\"}],\" ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚\"]}]]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"manipulating-the-dom-with-a-ref\",\"children\":\"é€šè¿‡ ref æ“ä½œ DOM \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"ä½¿ç”¨ ref æ“ä½œ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"DOM\"}],\" æ˜¯éå¸¸å¸¸è§çš„è¡Œä¸ºã€‚React å†…ç½®äº†å¯¹å®ƒçš„æ”¯æŒã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é¦–å…ˆï¼Œå£°æ˜ä¸€ä¸ª \",[\"$r\",\"CodeStep\",null,{\"step\":3,\"children\":\"åˆå§‹å€¼\"}],\" ä¸º \",[\"$r\",\"code\",null,{\"children\":\"null\"}],\" çš„ \",[\"$r\",\"CodeStep\",null,{\"step\":1,\"children\":\"ref å¯¹è±¡\"}]]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[1, 4, \\\"inputRef\\\"], [3, 4, \\\"null\\\"]]\",\"children\":\"import { useRef } from 'react';\\r\\n\\r\\nfunction MyComponent() {\\r\\n  const inputRef = useRef(null);\\r\\n  // ...\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"ç„¶åå°† ref å¯¹è±¡ä½œä¸º \",[\"$r\",\"code\",null,{\"children\":\"ref\"}],\" å±æ€§ä¼ é€’ç»™æƒ³è¦æ“ä½œçš„ DOM èŠ‚ç‚¹çš„ JSXï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[1, 2, \\\"inputRef\\\"]]\",\"children\":\"  // ...\\r\\n  return <input ref={inputRef} />;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"å½“ React åˆ›å»º DOM èŠ‚ç‚¹å¹¶å°†å…¶æ¸²æŸ“åˆ°å±å¹•æ—¶ï¼ŒReact å°†ä¼šæŠŠ DOM èŠ‚ç‚¹è®¾ç½®ä¸º ref å¯¹è±¡çš„ \",[\"$r\",\"CodeStep\",null,{\"step\":2,\"children\":[[\"$r\",\"code\",null,{\"children\":\"current\"}],\" å±æ€§\"]}],\"ã€‚ç°åœ¨å¯ä»¥å€ŸåŠ© ref å¯¹è±¡è®¿é—® \",[\"$r\",\"code\",null,{\"children\":\"<input>\"}],\" çš„ DOM èŠ‚ç‚¹ï¼Œå¹¶ä¸”å¯ä»¥è°ƒç”¨ç±»ä¼¼äº \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/focus\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"$r\",\"code\",null,{\"children\":\"focus()\"}]}],\" çš„æ–¹æ³•ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"[[2, 2, \\\"inputRef.current\\\"]]\",\"children\":\"  function handleClick() {\\r\\n    inputRef.current.focus();\\r\\n  }\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"å½“èŠ‚ç‚¹ä»å±å¹•ä¸Šç§»é™¤æ—¶ï¼ŒReact å°†æŠŠ \",[\"$r\",\"code\",null,{\"children\":\"current\"}],\" å±æ€§è®¾ç½®å› \",[\"$r\",\"code\",null,{\"children\":\"null\"}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é˜…è¯» \",[\"$r\",\"a\",null,{\"href\":\"/learn/manipulating-the-dom-with-refs\",\"children\":\"ç”¨ ref æ“çºµ DOM\"}],\" ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚\"]}],\"\\n\"]}],[\"$r\",\"Recipes\",null,{\"titleText\":\"Examples of manipulating the DOM with useRef\",\"titleId\":\"examples-dom\",\"children\":[[\"$r\",\"h4\",null,{\"id\":\"focusing-a-text-input\",\"children\":\"èšç„¦æ–‡å­—è¾“å…¥æ¡† \"}],[\"$r\",\"p\",null,{\"children\":\"åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œç‚¹å‡»æŒ‰é’®å°†ä¼šèšç„¦è¾“å…¥æ¡†ï¼š\"}],[\"$r\",\"Sandpack\",null,{\"children\":[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useRef } from 'react';\\r\\n\\r\\nexport default function Form() {\\r\\n  const inputRef = useRef(null);\\r\\n\\r\\n  function handleClick() {\\r\\n    inputRef.current.focus();\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <>\\r\\n      <input ref={inputRef} />\\r\\n      <button onClick={handleClick}>\\r\\n        èšç„¦è¾“å…¥æ¡†\\r\\n      </button>\\r\\n    </>\\r\\n  );\\r\\n}\\n\"}]}]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"scrolling-an-image-into-view\",\"children\":\"æ»šåŠ¨å›¾ç‰‡åˆ°è§†å›¾ \"}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œç‚¹å‡»æŒ‰é’®å°†ä¼šæŠŠå›¾ç‰‡æ»šåŠ¨åˆ°è§†å›¾ã€‚è¿™é‡Œä½¿ç”¨ ref ç»‘å®šåˆ°åˆ—è¡¨çš„ DOM èŠ‚ç‚¹ï¼Œç„¶åè°ƒç”¨ DOM çš„ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelectorAll\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"$r\",\"code\",null,{\"children\":\"querySelectorAll\"}]}],\" API æ‰¾åˆ°æƒ³è¦æ»šåŠ¨çš„å›¾ç‰‡ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useRef } from 'react';\\r\\n\\r\\nexport default function CatFriends() {\\r\\n  const listRef = useRef(null);\\r\\n\\r\\n  function scrollToIndex(index) {\\r\\n    const listNode = listRef.current;\\r\\n    // This line assumes a particular DOM structure:\\r\\n    const imgNode = listNode.querySelectorAll('li > img')[index];\\r\\n    imgNode.scrollIntoView({\\r\\n      behavior: 'smooth',\\r\\n      block: 'nearest',\\r\\n      inline: 'center'\\r\\n    });\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <>\\r\\n      <nav>\\r\\n        <button onClick={() => scrollToIndex(0)}>\\r\\n          Tom\\r\\n        </button>\\r\\n        <button onClick={() => scrollToIndex(1)}>\\r\\n          Maru\\r\\n        </button>\\r\\n        <button onClick={() => scrollToIndex(2)}>\\r\\n          Jellylorum\\r\\n        </button>\\r\\n      </nav>\\r\\n      <div>\\r\\n        <ul ref={listRef}>\\r\\n          <li>\\r\\n            <img\\r\\n              src=\\\"https://placekitten.com/g/200/200\\\"\\r\\n              alt=\\\"Tom\\\"\\r\\n            />\\r\\n          </li>\\r\\n          <li>\\r\\n            <img\\r\\n              src=\\\"https://placekitten.com/g/300/200\\\"\\r\\n              alt=\\\"Maru\\\"\\r\\n            />\\r\\n          </li>\\r\\n          <li>\\r\\n            <img\\r\\n              src=\\\"https://placekitten.com/g/250/200\\\"\\r\\n              alt=\\\"Jellylorum\\\"\\r\\n            />\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n    </>\\r\\n  );\\r\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\"div {\\r\\n  width: 100%;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\nnav {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\nbutton {\\r\\n  margin: .25rem;\\r\\n}\\r\\n\\r\\nul,\\r\\nli {\\r\\n  list-style: none;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\nli {\\r\\n  display: inline;\\r\\n  padding: 0.5rem;\\r\\n}\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"playing-and-pausing-a-video\",\"children\":\"æ’­æ”¾å’Œæš‚åœè§†é¢‘ \"}],[\"$r\",\"p\",null,{\"children\":[\"è¿™ä¸ªç¤ºä¾‹ä½¿ç”¨ ref è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"<video>\"}],\" DOM èŠ‚ç‚¹çš„ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/play\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"$r\",\"code\",null,{\"children\":\"play()\"}]}],\" å’Œ \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/pause\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[\"$r\",\"code\",null,{\"children\":\"pause()\"}]}],\" æ–¹æ³•ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useState, useRef } from 'react';\\r\\n\\r\\nexport default function VideoPlayer() {\\r\\n  const [isPlaying, setIsPlaying] = useState(false);\\r\\n  const ref = useRef(null);\\r\\n\\r\\n  function handleClick() {\\r\\n    const nextIsPlaying = !isPlaying;\\r\\n    setIsPlaying(nextIsPlaying);\\r\\n\\r\\n    if (nextIsPlaying) {\\r\\n      ref.current.play();\\r\\n    } else {\\r\\n      ref.current.pause();\\r\\n    }\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <>\\r\\n      <button onClick={handleClick}>\\r\\n        {isPlaying ? 'æš‚åœ' : 'æ’­æ”¾'}\\r\\n      </button>\\r\\n      <video\\r\\n        width=\\\"250\\\"\\r\\n        ref={ref}\\r\\n        onPlay={() => setIsPlaying(true)}\\r\\n        onPause={() => setIsPlaying(false)}\\r\\n      >\\r\\n        <source\\r\\n          src=\\\"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4\\\"\\r\\n          type=\\\"video/mp4\\\"\\r\\n        />\\r\\n      </video>\\r\\n    </>\\r\\n  );\\r\\n}\\n\"}]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-css\",\"children\":\"button { display: block; margin-bottom: 20px; }\\n\"}]}]]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"exposing-a-ref-to-your-own-component\",\"children\":\"å‘ç»„ä»¶æš´éœ² ref \"}],[\"$r\",\"p\",null,{\"children\":[\"æœ‰æ—¶å¯èƒ½æƒ³è®©çˆ¶çº§ç»„ä»¶åœ¨ç»„ä»¶ä¸­æ“çºµ DOMã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ­£åœ¨ç¼–å†™ä¸€ä¸ª \",[\"$r\",\"code\",null,{\"children\":\"MyInput\"}],\" ç»„ä»¶ï¼Œä½†å¸Œæœ›çˆ¶ç»„ä»¶èƒ½å¤Ÿèšç„¦ inputï¼ˆä¸è¿‡çˆ¶ç»„ä»¶æ— æ³•è®¿é—®ï¼‰ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨ç»„ä»¶ç»„åˆï¼Œé€šè¿‡ \",[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" æŒæœ‰è¾“å…¥æ¡†å¹¶é€šè¿‡ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/forwardRef\",\"children\":[\"$r\",\"code\",null,{\"children\":\"forwardRef\"}]}],\" å°†å…¶æš´éœ²ç»™çˆ¶ç»„ä»¶ã€‚åœ¨è¿™é‡Œé˜…è¯» \",[\"$r\",\"a\",null,{\"href\":\"/learn/manipulating-the-dom-with-refs#accessing-another-components-dom-nodes\",\"children\":\"è¯¦ç»†æ¼”ç»ƒ\"}],\"ã€‚\"]}],[\"$r\",\"Sandpack\",null,{\"children\":[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { forwardRef, useRef } from 'react';\\r\\n\\r\\nconst MyInput = forwardRef((props, ref) => {\\r\\n  return <input {...props} ref={ref} />;\\r\\n});\\r\\n\\r\\nexport default function Form() {\\r\\n  const inputRef = useRef(null);\\r\\n\\r\\n  function handleClick() {\\r\\n    inputRef.current.focus();\\r\\n  }\\r\\n\\r\\n  return (\\r\\n    <>\\r\\n      <MyInput ref={inputRef} />\\r\\n      <button onClick={handleClick}>\\r\\n        èšç„¦è¾“å…¥æ¡†\\r\\n      </button>\\r\\n    </>\\r\\n  );\\r\\n}\\n\"}]}]}],[\"$r\",\"Solution\",null,{}]]}],[\"$r\",\"MaxWidth\",\"last\",{\"children\":[\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"avoiding-recreating-the-ref-contents\",\"children\":\"é¿å…é‡å¤åˆ›å»º ref çš„å†…å®¹ \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"React ä¼šä¿å­˜ ref åˆå§‹å€¼ï¼Œå¹¶åœ¨åç»­çš„æ¸²æŸ“ä¸­å¿½ç•¥å®ƒã€‚\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"function Video() {\\r\\n  const playerRef = useRef(new VideoPlayer());\\r\\n  // ...\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"è™½ç„¶ \",[\"$r\",\"code\",null,{\"children\":\"new VideoPlayer()\"}],\" çš„ç»“æœåªä¼šåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶ä½¿ç”¨ï¼Œä½†æ˜¯ä¾ç„¶åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½åœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚å¦‚æœæ˜¯åˆ›å»ºæ˜‚è´µçš„å¯¹è±¡ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ç§æµªè´¹ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥åƒè¿™æ ·åˆå§‹åŒ– refï¼š\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"function Video() {\\r\\n  const playerRef = useRef(null);\\r\\n  if (playerRef.current === null) {\\r\\n    playerRef.current = new VideoPlayer();\\r\\n  }\\r\\n  // ...\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­å†™å…¥æˆ–è¯»å– \",[\"$r\",\"code\",null,{\"children\":\"ref.current\"}],\" æ˜¯ä¸å…è®¸çš„ã€‚ç„¶è€Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºç»“æœæ€»æ˜¯ä¸€æ ·çš„ï¼Œè€Œä¸”æ¡ä»¶åªåœ¨åˆå§‹åŒ–æ—¶æ‰§è¡Œï¼Œæ‰€ä»¥æ˜¯å®Œå…¨å¯é¢„æµ‹çš„ã€‚\"]}],\"\\n\",[\"$r\",\"DeepDive\",null,{\"children\":[[\"$r\",\"h4\",null,{\"id\":\"how-to-avoid-null-checks-when-initializing-use-ref-later\",\"children\":[\"é¿å…åœ¨åˆå§‹åŒ– \",[\"$r\",\"code\",null,{\"children\":\"useRef\"}],\" ä¹‹åè¿›è¡Œ \",[\"$r\",\"code\",null,{\"children\":\"null\"}],\" çš„ç±»å‹æ£€æŸ¥ \"]}],[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœä½¿ç”¨äº†ç±»å‹æ£€æŸ¥å™¨ï¼Œå¹¶ä¸”ä¸æƒ³æ€»æ˜¯æ£€æŸ¥ \",[\"$r\",\"code\",null,{\"children\":\"null\"}],\"ï¼Œå¯ä»¥å°è¯•ç”¨è¿™æ ·çš„æ¨¡å¼æ¥ä»£æ›¿ï¼š\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"function Video() {\\r\\n  const playerRef = useRef(null);\\r\\n\\r\\n  function getPlayer() {\\r\\n    if (playerRef.current !== null) {\\r\\n      return playerRef.current;\\r\\n    }\\r\\n    const player = new VideoPlayer();\\r\\n    playerRef.current = player;\\r\\n    return player;\\r\\n  }\\r\\n\\r\\n  // ...\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"åœ¨è¿™é‡Œï¼Œ\",[\"$r\",\"code\",null,{\"children\":\"playerRef\"}],\" æœ¬èº«æ˜¯å¯ä»¥ä¸ºç©ºçš„ã€‚ç„¶è€Œï¼Œåº”è¯¥èƒ½å¤Ÿä½¿ç±»å‹æ£€æŸ¥å™¨ç¡®ä¿¡ï¼Œä¸å­˜åœ¨ \",[\"$r\",\"code\",null,{\"children\":\"getPlayer()\"}],\" è¿”å› \",[\"$r\",\"code\",null,{\"children\":\"null\"}],\" çš„æƒ…å†µã€‚ç„¶ååœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ \",[\"$r\",\"code\",null,{\"children\":\"getPlayer()\"}],\"ã€‚\"]}]]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"troubleshooting\",\"children\":\"ç–‘éš¾è§£ç­” \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"i-cant-get-a-ref-to-a-custom-component\",\"children\":\"æ— æ³•è·å–è‡ªå®šä¹‰ç»„ä»¶çš„ ref \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"å¦‚æœå°è¯•åƒè¿™æ ·ä¼ é€’ \",[\"$r\",\"code\",null,{\"children\":\"ref\"}],\" åˆ°è‡ªå®šä¹‰ç»„ä»¶ï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"const inputRef = useRef(null);\\r\\n\\r\\nreturn <MyInput ref={inputRef} />;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä½ å¯èƒ½ä¼šåœ¨æ§åˆ¶å°ä¸­å¾—åˆ°è¿™æ ·çš„é”™è¯¯ï¼š\"}],\"\\n\",[\"$r\",\"ConsoleBlock\",null,{\"level\":\"error\",\"children\":[\"$r\",\"p\",null,{\"children\":\"Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"é»˜è®¤æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰ç»„ä»¶ä¸ä¼šæš´éœ²å®ƒä»¬å†…éƒ¨ DOM èŠ‚ç‚¹çš„ refã€‚\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆï¼Œæ‰¾åˆ°æƒ³è·å¾— ref çš„ç»„ä»¶ï¼š\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"export default function MyInput({ value, onChange }) {\\r\\n  return (\\r\\n    <input\\r\\n      value={value}\\r\\n      onChange={onChange}\\r\\n    />\\r\\n  );\\r\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"ç„¶ååƒè¿™æ ·å°†å…¶åŒ…è£…åœ¨ \",[\"$r\",\"a\",null,{\"href\":\"/reference/react/forwardRef\",\"children\":[\"$r\",\"code\",null,{\"children\":\"forwardRef\"}]}],\" é‡Œï¼š\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{3,8}\",\"children\":\"import { forwardRef } from 'react';\\r\\n\\r\\nconst MyInput = forwardRef(({ value, onChange }, ref) => {\\r\\n  return (\\r\\n    <input\\r\\n      value={value}\\r\\n      onChange={onChange}\\r\\n      ref={ref}\\r\\n    />\\r\\n  );\\r\\n});\\r\\n\\r\\nexport default MyInput;\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"æœ€åï¼Œçˆ¶çº§ç»„ä»¶å°±å¯ä»¥å¾—åˆ°å®ƒçš„ refã€‚\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"é˜…è¯» \",[\"$r\",\"a\",null,{\"href\":\"/learn/manipulating-the-dom-with-refs#accessing-another-components-dom-nodes\",\"children\":\"è®¿é—®å¦ä¸€ä¸ªç»„ä»¶çš„ DOM èŠ‚ç‚¹\"}],\" ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚\"]}]]}]]","toc":"[{\"url\":\"#\",\"text\":\"Overview\",\"depth\":2},{\"url\":\"#reference\",\"depth\":2,\"text\":\"å‚è€ƒ \"},{\"url\":\"#useref\",\"depth\":3,\"text\":[[\"$r\",\"code\",null,{\"children\":\"useRef(initialValue)\"}],\" \"]},{\"url\":\"#usage\",\"depth\":2,\"text\":\"ä½¿ç”¨ \"},{\"url\":\"#referencing-a-value-with-a-ref\",\"depth\":3,\"text\":\"ä½¿ç”¨ç”¨ ref å¼•ç”¨ä¸€ä¸ªå€¼ \"},{\"url\":\"#manipulating-the-dom-with-a-ref\",\"depth\":3,\"text\":\"é€šè¿‡ ref æ“ä½œ DOM \"},{\"url\":\"#avoiding-recreating-the-ref-contents\",\"depth\":3,\"text\":\"é¿å…é‡å¤åˆ›å»º ref çš„å†…å®¹ \"},{\"url\":\"#troubleshooting\",\"depth\":2,\"text\":\"ç–‘éš¾è§£ç­” \"},{\"url\":\"#i-cant-get-a-ref-to-a-custom-component\",\"depth\":3,\"text\":\"æ— æ³•è·å–è‡ªå®šä¹‰ç»„ä»¶çš„ ref \"}]","meta":{"title":"useRef"}},"__N_SSG":true}