(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{537:function(t,e,s){"use strict";s.r(e);var a=s(49),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"navigation-programmatique"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#navigation-programmatique"}},[t._v("#")]),t._v(" Navigation programmatique")]),t._v(" "),s("p",[t._v("En complément du l'utilisation de "),s("code",[t._v("<router-link>")]),t._v(" pour créer des balises ancres pour la navigation déclarative, nous pouvons le faire de manière programmatique en utilisant les méthodes de l'instance du routeur.")]),t._v(" "),s("h4",{attrs:{id:"router-push-location-oncomplete-onabort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-push-location-oncomplete-onabort"}},[t._v("#")]),t._v(" "),s("code",[t._v("router.push(location, onComplete?, onAbort?)")])]),t._v(" "),s("p",[s("strong",[t._v("Note : Dans une instance Vue, vous pouvez accéder à l'instance du routeur via "),s("code",[t._v("$router")]),t._v(". Vous pouvez donc appeler "),s("code",[t._v("this.$router.push")]),t._v(".")])]),t._v(" "),s("p",[t._v("Pour naviguer vers un URL différent, utilisez "),s("code",[t._v("router.push")]),t._v(". Cette méthode ajoute une nouvelle entrée dans la pile de l'historique. Ainsi quand un utilisateur clique sur le bouton retour de son navigateur, il retournera à l'URL précédent.")]),t._v(" "),s("p",[t._v("Cette méthode est appelée en interne quand vous cliquez sur "),s("code",[t._v("<router-link>")]),t._v(", donc cliquer sur "),s("code",[t._v('<router-link :to="...">')]),t._v(" est équivalent à appeler "),s("code",[t._v("router.push(...)")]),t._v(".")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Déclarative")]),t._v(" "),s("th",[t._v("Programmatique")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v('<router-link :to="...">')])]),t._v(" "),s("td",[s("code",[t._v("router.push(...)")])])])])]),t._v(" "),s("p",[t._v("L'argument peut être une chaine de caractère représentant un chemin, ou un objet de description de destination. Des exemples :")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// chaine de caractère représentant un chemin")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// objet")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// route nommée")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("userId")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// avec une requête « query » résultant de `/register?plan=private`")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'register'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plan")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'private'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Note :")]),t._v(" "),s("code",[t._v("params")]),t._v(" est ignoré si "),s("code",[t._v("path")]),t._v(" est fourni, ce qui n'est pas le cas pour "),s("code",[t._v("query")]),t._v(", comme démontré dans l'exemple ci-dessous. À la place, vous devez fournir le "),s("code",[t._v("name")]),t._v(" de la route ou manuellement spécifier le "),s("code",[t._v("path")]),t._v(" complet avec tous les paramètres :")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userId "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> /user/123")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/user/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("userId"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> /user/123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Ceci ne va PAS fonctionner")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> /user")]),t._v("\n")])])]),s("p",[t._v("Les mêmes règles s'appliquent pour la propriété "),s("code",[t._v("to")]),t._v(" du composant "),s("code",[t._v("router-link")]),t._v(".")]),t._v(" "),s("p",[t._v("Dans la version 2.2.0+, vous pouvez optionnellement fournir les fonctions de rappel "),s("code",[t._v("onComplete")]),t._v(" et "),s("code",[t._v("onAbort")]),t._v(" à "),s("code",[t._v("router.push")]),t._v(" ou "),s("code",[t._v("router.replace")]),t._v(" en tant que deuxième et troisième arguments. Ces fonctions de rappel seront appelées quand la navigation sera respectivement ; complétée avec succès (après la résolution de tous les hooks asynchrones), ou arrêtée (navigation vers la même route ou vers une route différente avant que la navigation courante ne soit achevée).")]),t._v(" "),s("p",[s("strong",[t._v("Note :")]),t._v(" si la destination est la même que la route courante et que seuls les paramètres ont changés (par ex. naviguer d'un profil à l'autre "),s("code",[t._v("/utilisateurs/1")]),t._v(" -> "),s("code",[t._v("/utilisateurs/2")]),t._v("), vous devrez utiliser "),s("RouterLink",{attrs:{to:"/fr/guide/essentials/dynamic-matching.html#réactivité-aux-changements-de-paramètres"}},[s("code",[t._v("beforeRouteUpdate")])]),t._v(" pour réagir aux changements (par ex. récupérer les informations de l'utilisateur).")],1),t._v(" "),s("h2",{attrs:{id:"router-replace-location-oncomplete-onabort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-replace-location-oncomplete-onabort"}},[t._v("#")]),t._v(" "),s("code",[t._v("router.replace(location, onComplete?, onAbort?)")])]),t._v(" "),s("p",[t._v("Il agit comme "),s("code",[t._v("router.push")]),t._v(". La seule différence est que la navigation se fait sans ajouter de nouvelle entrée dans la pile de l'historique. Comme son nom l'indique, il remplace l'entrée courante.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Déclarative")]),t._v(" "),s("th",[t._v("Programmatique")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v('<router-link :to="..." replace>')])]),t._v(" "),s("td",[s("code",[t._v("router.replace(...)")])])])])]),t._v(" "),s("h2",{attrs:{id:"router-go-n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-go-n"}},[t._v("#")]),t._v(" "),s("code",[t._v("router.go(n)")])]),t._v(" "),s("p",[t._v("Cette méthode prend un seul nombre en tant que paramètre. Celui-ci indique de combien d'entrées vers l'avant ou vers l'arrière il faut naviguer dans la pile de l'historique, de la même manière qu'avec "),s("code",[t._v("window.history.go(n)")]),t._v(".")]),t._v(" "),s("p",[t._v("Des exemples")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// avancer d'une entrée, identique à `history.forward()`")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// retourner d'une entrée en arrière, identique à `history.back()`")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// avancer de trois entrées")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// échoue silencieusement s'il n'y a pas assez d'entrées.")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"manipulation-de-l-historique"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manipulation-de-l-historique"}},[t._v("#")]),t._v(" Manipulation de l'historique")]),t._v(" "),s("p",[t._v("Vous avez peut être remarqué que "),s("code",[t._v("router.push")]),t._v(", "),s("code",[t._v("router.replace")]),t._v(" et "),s("code",[t._v("router.go")]),t._v(" sont des équivalents de "),s("a",{attrs:{href:"https://developer.mozilla.org/fr-FR/docs/Web/API/History",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("window.history.pushState")]),t._v(", "),s("code",[t._v("window.history.replaceState")]),t._v(" et "),s("code",[t._v("window.history.go")]),s("OutboundLink")],1),t._v(", et qu'ils imitent les APIs de "),s("code",[t._v("window.history")]),t._v(".")]),t._v(" "),s("p",[t._v("Donc, si vous utilisez déjà l'"),s("a",{attrs:{href:"https://developer.mozilla.org/fr-FR/docs/Web/API/History_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("API History des navigateurs"),s("OutboundLink")],1),t._v(", manipuler l'historique sera très simple avec vue-router.")]),t._v(" "),s("p",[t._v("Il n'est pas nécessaire de préciser que les méthodes de navigation ("),s("code",[t._v("push")]),t._v(", "),s("code",[t._v("replace")]),t._v(", "),s("code",[t._v("go")]),t._v(") fonctionnent de la même manière dans tous les modes de routage ("),s("code",[t._v("history")]),t._v(", "),s("code",[t._v("hash")]),t._v(" et "),s("code",[t._v("abstract")]),t._v(").")])])}),[],!1,null,null,null);e.default=r.exports}}]);